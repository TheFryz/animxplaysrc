function opendiscord(){}document.addEventListener("DOMContentLoaded",(function(){console.log("%cAniMixPlay","font-size:35px;font-family: 'Lexend deca',sans-serif;color:#7fc3ff;text-shadow:3px 3px #0b0b0b","console");var e=performance.now();console.log("Loading app data..."),gID("loadcontainer").style.display="block";var t=new XMLHttpRequest;if(t.open("GET","/assets/s/all.json"),t.timeout=2e4,t.onloadend=function(){if(200===this.status){for(var o=JSON.parse(t.responseText),n=Object.keys(o).length,a=0,l=0;l<n;l++)null!=o[l].title&&(rawdata[a++]=o[l]);var i=performance.now();if(console.log("%c Data loaded in : "+(i-e)+"ms","background: #222; color: #7eff4f"),window.location.href.includes("?q=")){var s=window.location.href.split("?q=")[1];(s=decodeURIComponent(s)).length>1&&(filter="any",gID("azsearch").value=s,mode="search",search(s))}else gID("typeselect").selectedIndex=1,gID("default").click()}else shownotif("Network error");gID("loadcontainer").style.display="none"},t.onerror=function(){shownotif("Network error")},t.send(),gID("q").addEventListener("keyup",(e=>{"Enter"===e.key&&gID("searchbutton").click()})),gID("azsearch").addEventListener("keyup",(e=>{e.target.value.length>1?(mode="search",search(e.target.value)):0===e.target.value.length&&(mode="show",window.history.replaceState("object or string","A-Z Index","/list"),document.title="A-Z Index - AniMixPlay",null!==oldbutton&&show(oldbutton,oldbutton.innerHTML))})),gID("enablechat").addEventListener("click",(function(){gID("enablechat").checked&&discordNotOpened?(opendiscord(),isStorage("sessionStorage")&&sessionStorage.setItem("opendiscord","true")):(isStorage("sessionStorage")&&(sessionStorage.setItem("opendiscord","false"),shownotif("Chat closed")),document.getElementsByTagName("crate")[0].remove())})),isStorage("sessionStorage")){var o=sessionStorage.getItem("opendiscord");null!==o&&"true"===o&&gID("enablechat").click()}window.innerWidth<800&&(gID("listplace").style.display="block")}));var discordNotOpened=!0,rawdata=[],oldbutton=null,filter="1",lang="any",mode="show";function typechange(){filter=gID("typeselect").value,null!==oldbutton&&("show"===mode?show(oldbutton,oldbutton.innerHTML):search(gID("azsearch").value))}function langchange(){lang=gID("langselect").value,null!==oldbutton&&("show"===mode?show(oldbutton,oldbutton.innerHTML):search(gID("azsearch").value))}function langCheck(e){return"any"===lang||("dub"===lang?e.includes("dub)"):!e.includes("dub)"))}function show(e,t){var o=performance.now();console.log("Navigating to virtual page "+t),null!==oldbutton&&(oldbutton.disabled=!1),e.disabled=!0,oldbutton=e;var n,a,l,i="";data=[],j=0;var s=Object.keys(rawdata).length;if("#"===(t=t.toLowerCase()))for(var r=0;r<s;r++)(l=rawdata[r].title.toLowerCase()).trim().charAt(0).match(/[^A-Za-z]/i)&&langCheck(l)&&(data[j++]=rawdata[r]);else for(r=0;r<s;r++)(l=rawdata[r].title.toLowerCase()).trim().charAt(0)===t&&langCheck(l)&&(data[j++]=rawdata[r]);data.sort((function(e,t){return e.title.trim()<t.title.trim()?-1:e.title.trim()>t.title.trim()?1:0}));var c;for(s=data.length,r=0;r<s;r++)a=data[r].e,"any"!==filter&&filter!==a||(n=`/v${a}/${data[r].id}`,"2"===a&&(n+="/"+data[r].slug),"(dub)"===(c=data[r].title).substring(c.length-5).toLowerCase()&&(c=c.substring(0,c.length-5)+"<span class='dubtag'>[Dub]</span>"),i+=`<div class="allitem"><a title="${data[r].title}" href="${n}">${c}</a>`,"1"===a?i+="GOGO":"2"===a?i+="AUE":"3"===a?i+="KAA":"4"===a?i+="4ANI":"5"===a?i+="9ANI":"6"===a?i+="RUSH":"7"===a?i+="API":"8"===a?i+="MATO":"9"===a?i+="AMAX":"10"===a?i+="GDP":"11"===a?i+="AL":"12"===a&&(i+="REG"),i+="</div>");gID("listplace").innerHTML=i;var d=performance.now();console.log("%c Transition time : "+(d-o)+"ms","background: #222; color: #7eff4f")}function search(e){var t=performance.now();console.log("Navigating to virtual page '"+e+"'"),e=e.toLowerCase(),window.history.replaceState("object or string",e,"/list?q="+e),document.title=e+" - AniMixPlay",null!==oldbutton&&(oldbutton.disabled=!1);var o,n,a,l="";data=[],j=0;for(var i=Object.keys(rawdata).length,s=0;s<i;s++)(a=rawdata[s].title.toLowerCase()).includes(e)&&langCheck(a)&&(data[j++]=rawdata[s]);data.sort((function(e,t){return e.title.trim()<t.title.trim()?-1:e.title.trim()>t.title.trim()?1:0}));var r;i=data.length;isMobile()&&i>50?i=50:i>200&&(i=200);for(s=0;s<i;s++)n=data[s].e,"any"!==filter&&filter!==n||(o=`/v${n}/${data[s].id}`,"2"===n&&(o+="/"+data[s].slug),"(dub)"===(r=data[s].title).substring(r.length-5).toLowerCase()&&(r=r.substring(0,r.length-5)+"<span class='dubtag'>[Dub]</span>"),l+=`<div class="allitem"><a title="${data[s].title}" href="${o}">${r}</a>`,"1"===n?l+="GOGO":"2"===n?l+="AUE":"3"===n?l+="KAA":"4"===n?l+="4ANI":"5"===n?l+="9ANI":"6"===n?l+="RUSH":"7"===n?l+="API":"8"===n?l+="MATO":"9"===n?l+="AMAX":"10"===n?l+="GDP":"11"===n?l+="AL":"12"===n&&(l+="REG"),l+="</div>");gID("listplace").innerHTML=l;var c=performance.now();console.log("%c Transition time : "+(c-t)+"ms","background: #222; color: #7eff4f")}var notifDisplayed=!1;function shownotif(e,t=1700){var o=setInterval((function(){if(!notifDisplayed){notifDisplayed=!0;var n=gID("notifiaction");n.innerHTML=e,n.style.display="block",n.style.animationName="notifin",setTimeout((function(){n.style.animationName="notifout"}),t+400),setTimeout((function(){n.style.display="none",notifDisplayed=!1}),t+800),clearInterval(o)}}),50)}function searchfocused(){gClass("quicksearchcontainer")[0].style.display="block"}function searchblur(){setTimeout((function(){gClass("quicksearchcontainer")[0].style.display="none"}),300)}function dosearchfromplayer(){var e=gID("q").value;e.length>2?location.href="/?q="+e:shownotif("Keyword too short!")}function cSearch(e){var t=gID("q").value;t.length<3?shownotif("Keyword too short!"):location.href="full"==e?"/?q="+t:"/?q="+t+"&sengine="+e}var notFoundID={},gID=function(e){var t=document.getElementById(e);return null===t&&(void 0===notFoundID[e]?(t=document.createElement("div"),notFoundID[e]=t):t=notFoundID[e]),t},notFoundClass={},gClass=function(e){var t=document.getElementsByClassName(e);return void 0===t[0]&&(void 0===notFoundClass[e]?(t=[document.createElement("div")],notFoundClass[e]=t):t=notFoundClass[e]),t};function isMobile(){return window.innerWidth<1130}function scrollToTop(e){"scrollBehavior"in document.documentElement.style?window.scrollTo({top:0,behavior:"smooth"}):window.scrollTo(0,0)}function backhome(){window.location.href="/"}window.addEventListener("beforeunload",(function(){gID("loadcontainer").style.display="block"}));var searchmobileopen=!1;function togglesearch(){var e=gID("q");searchmobileopen?(gID("showsearchbtn").innerHTML='<i class="glyphicon glyphicon-search"></i>',gClass("webtitle")[0].style.display="",e.style.display="",e.style.maxWidth="",e.value="",gID("searchbox").style.marginLeft=""):(gID("showsearchbtn").innerHTML='<i class="glyphicon glyphicon-remove"></i>',gClass("webtitle")[0].style.display="none",e.style.display="inline",e.style.maxWidth="100%",gID("searchbox").style.marginLeft="30px",e.focus(),scrollToTop(300)),searchmobileopen=!searchmobileopen}function focussearch(){isMobile()?togglesearch():(gID("q").focus(),scrollToTop(300))}function getrequest(e){var t=location.search.split("&"+e+"=")[1];return t||(t=location.search.split("?"+e+"=")[1]),void 0!==t?decodeURIComponent(t.split("&")[0]):null}function isStorage(e){try{var t=window[e],o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return!1}}function isJson(e){try{JSON.parse(e)}catch(e){return!1}return!0}