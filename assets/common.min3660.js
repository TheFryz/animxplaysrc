var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

$(document).ready((function(){console.log("%cAniMixPlay","font-size:35px;font-family: 'Lexend deca',sans-serif;color:#7fc3ff;text-shadow:3px 3px #0b0b0b","console");var e=performance.now();gClass("playersidebar")[0].innerHTML='<i class="closebtn glyphicon glyphicon-remove" id="menuclose" onClick="showmobilemenu()"></i>\n<div class="rightcard">\n    <div class="loadingreplacement">Loading...</div>\n    <div class="usercard">\n        <div id="userpanel">\n            <span class="usernameplace"></span><span id="premiumcrown"></span><br><br>\n            <div id="iconmenu">\n                <a class="linkpersonal glyphicon glyphicon-th-list" href="/user/"><br><span class="subtextmenuicon">User Panel</span></a>\n                <i class="autotrackbtn glyphicon glyphicon-refresh" onClick="autotrackbtnclick();"><br><span class="subtextmenuicon">Autotracking</span></i>\n                <i class="glyphicon glyphicon-off" onClick="logout();"><br><span class="subtextmenuicon">Logout</span></i>\n                <a class="linkhome glyphicon glyphicon-search" href="/"><br><span class="subtextmenuicon">Explore</span></a>\n                <i class="linkhome glyphicon glyphicon-lock" onClick="openchangepass();"><br><span class="subtextmenuicon">Account</span></i>\n                <i class="linkhome glyphicon glyphicon-wrench" onClick="openpremiumpanel();"><br><span class="subtextmenuicon">Settings</span></i>\n            </div>\n            <div id="logoutmsg"></div>\n        </div>\n        <div id="loginform">\n            <div class="flexrightcard">\n                <div class="halfleft">\n                    <input class="logininput" placeholder="Username" id="username" type="text" autocomplete="username"/>\n                    <input class="logininput" placeholder="Password" id="password" type="password" autocomplete="current-password"/>\n                    <input type="checkbox" value="" id="rememberme" checked>\n                    <label class="form-check-label rememberlabel" for="rememberme">\n                    Remember me\n                    </label>\n                </div>\n                <div class="halfright">\n                    <div class="loginbtn" onClick="login();">Login</div>\n                    <a class="openregisterbtn" onClick="openregister();">Register</a>\n                </div>\n            </div>\n            <div id="statuslogin"></div>\n        </div>\n        <form id="registerform">\n            <a class="openloginbtn" onClick="backlogin();">&lt; back</a><br><br>\n            <span id="alretinfo">Note: we don\'t use email (no reset password), to avoid forgot please use password manager</span>\n            <div id="formregister">\n                <input class="logininput" placeholder="Username" id="usernameregis" type="text" autocomplete="off"/>\n                <div class="formsubtext">letters/numbers/_.-| max 25 chars</div>\n                <input class="logininput" placeholder="Password" id="passwordregis" type="password" autocomplete="off"/>\n                <div class="formsubtext">any 4 - 200 chars</div>\n                <input class="logininput" placeholder="Confirm Password" id="confirm" type="password" autocomplete="off"/>\n                <div class="formsubtext">retype password</div>\n                <div class="g-recaptcha" data-theme="dark" data-sitekey="6LfYUUceAAAAAEC5G8ZmQEqELhXx55thJrVKDrew"></div>\n            </div>\n            <div id="statusregister"></div>\n            <div class="registerbtn" onClick="register();">Register</div>\n        </form>\n        <div id="gsignsection"><br>\n            <div class="subtitleright" style="border-bottom:none"></div>\n            <div id="gconnectbtn"><img id="gconnectbtnimg" onClick="connectGoogle()" src="/assets/s/gsign.jpg"></div>\n        </div>\n        <div id="changepassform">\n            <a class="openloginbtn" onClick="backlogin2();">Back</a>\n            <br><br><br><br><br>\n            <span id="alretinfo">Account setting moved to <a id="accountmovelink" href="/user/?openmenu=yes">User Panel</a>.</span>\n            <br><br><br>\n        </div>\n        <div id="premiumpanel">\n            <a class="openloginbtn" onClick="backlogin3();">Back</a><br><br>\n            <span id="premiumnotice">This set default setting when page load.<br>Only donators can change these settings</span>\n            <div id="iconmenu">\n                <i class="glyphicon glyphicon-transfer" id="autoproxybtn" onClick="toggleAutoProxy();"><br><span class="subtextmenuicon">Auto Switch</span></i>\n                <i class="glyphicon glyphicon-subtitles" id="preferbtn" onClick="togglePreferSub();"><br><span class="subtextmenuicon">Default</span></i>\n                <i class="glyphicon glyphicon-sunglasses" id="autolightsbtn" onClick="toggleAutoLightoff();"><br><span class="subtextmenuicon">Auto Lights</span></i>\n                <i class="glyphicon glyphicon-flash" id="userautoplaybtn" onClick="toggleDefaultAutoplay();"><br><span class="subtextmenuicon">Default</span></i>\n                <i class="glyphicon glyphicon-time" id="autoplaybackbtn" onClick="togglePlaybackSave();"><br><span class="subtextmenuicon">Playback</span></i>\n                <i class="glyphicon glyphicon-comment" id="autocommentbtn" style="color:gray" onclick="toggleAutoComment();"><br><span class="subtextmenuicon">Autoload</span></i>\n            </div>\n            <div id="logoutmsg"></div>\n        </div>\n    </div>\n</div>\n<div class="rightcardCenter" id="manualTrackingCard">\n    <div class="subtitleright" id="trackingTitle"></div>\n    <span id="watchingstatus"></span><div onClick="deleteanime(this)" id="untrackbtn">untrack <i class="glyphicon glyphicon-remove"></i></div>\n    <select id="manualTrackingSelect">\n        <option value="Watching">Watching</option>\n        <option value="Planned">On-Hold</option>\n        <option value="PTW">Plan to Watch</option>\n        <option value="Finished">Finished</option>\n    </select> \n    <div class="flexrightcard">\n        <div class="halfleft2">\n            Current : <div id="progressnumber"></div>\n        </div>\n        <div class="halfright">\n            Tracked : <div id="tracknumber"></div>\n        </div>\n    </div>\n    <button id="manualtrackbtn" onClick="updatetele(activeEpsNumber, true);">Sync tracking</button>\n</div>\n<div id="infocard" class="rightcard">\n    <div class="subtitleright">Info</div>\n    Follow <a href="https://twitter.com/AniMixPlay" target="_blank" rel="noreferrer"><img src="https://www.google.com/s2/favicons?domain=twitter.com"> Twitter</a> for website updates.<br>\n    Read more info in <a href="/info.html" target="_blank">INFO</a> page<br>\n    <br>\n    <div id="playerbottomicon">AniMixPlay</div>\n</div>',isStorage("localStorage")&&"yes"===localStorage.getItem("autoLoadComment")&&(autoloadComment=!0,gID("autocommentbtn").style.color="#7fc3ff"),untracked=!0,customOnload();var t=null,n=-1;if($("#q").keyup((function(e){if(clearTimeout(t),"Enter"===e.key&&quicksearchloaded?n>-1?gClass("qresulthover")[0].click():$("#searchbutton").click():e.target.value.length<2?gClass("quickresult")[0].innerHTML="":e.target.value!=querytemp&&(quicksearchloaded=!1,t=setTimeout((function(){quicksearch(e.target.value)}),500),n=-1),quicksearchloaded){var o=gClass("quickresult")[0].childNodes;"ArrowDown"===e.key&&n<o.length-1?(-1!==n&&(o[n].className=null),o[++n].className="qresulthover"):"ArrowUp"===e.key&&n>-1&&(o[n].className=null,-1!==--n&&(o[n].className="qresulthover"))}})),"ontouchstart"in window&&(document.addEventListener("touchstart",handleTouchStart,!1),document.addEventListener("touchmove",handleTouchMove,!1)),$("#password").keyup((function(e){"Enter"===e.key&&$(".loginbtn").click()})),$("#confirm").keyup((function(e){"Enter"===e.key&&$(".registerbtn").click()})),document.addEventListener("keydown",(function(e){"Meta"===e.key&&(metaPressed=!0)}),!1),window.innerWidth<1001){var o=window.innerHeight-100;gClass("playerpage")[0].style.minHeight=o+"px"}var i=performance.now();console.log("%c Total render time : "+(i-e)+"ms","background: #222; color: #7eff4f")}));var authwindow,metaPressed=!1;function loadGsign(){gID("gsignsection").style.display="block"}function connectGoogle(){var e=gID("gconnectbtn"),t=e.innerHTML,n="https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=309353198480-dcg47docr6tnaf8hnc8cstfnaiisqgk4.apps.googleusercontent.com&scope=openid%20email&redirect_uri=https%3A//"+location.hostname+"/auth/google&prompt=select_account";if(location.hostname.includes(".win")&&(n+="&state=urlwin"),-1!==document.cookie.indexOf("authstatus=done")&&(document.cookie="authstatus=done;expires=Thu, 01 Jan 1970 00:00:01 GMT"),authwindow=window.open(n,"authwindow","width=500,height=600"),e.innerHTML="Waiting authorization...",null!==authwindow)var o=setInterval((function(){-1!==document.cookie.indexOf("authstatus=done")?(clearInterval(o),authwindow.close(),location.reload()):authwindow.closed&&(clearInterval(o),e.innerHTML=t)}),500);else e.innerHTML="Your browser not allow popup"}function handleAiring(){var e=document.createElement("div");e.setAttribute("id","playercountdown"),gClass("epsavailable")[0].appendChild(e),-1===animeTitle.toLowerCase().indexOf("dub)")?$.ajax({url:baseURL+"assets/s/schedule.json",type:"GET",success:function(t){var n,o,i=t.length;for(n=0;n<i;n++)if(t[n].malid===malid){o=t[n].time;break}null!=o?timeleftLoop(o):(e.innerHTML="Next: Unknown",e.style.color="gray")}}):(e.innerHTML="Next: Unknown",e.style.color="gray")}var sideBtnDisplayed=-1;function onEpBuild(){gID("disquscommentnew").style.display="block",gClass("playerpage")[0].style.backgroundColor="rgb(35,35,35)","undefined"!=typeof malid&&"0"!==malid&&""!==malid&&(gID("showrecomendbtn").style.display="inline-block",gID("animebtn").setAttribute("href","/anime/"+malid),gID("animebtn2").setAttribute("href","/anime/"+malid),gID("animebtn").style.display="inline",gID("animeinfobottom").style.display="block");var e=gID("epslistplace");"string"==typeof e.style.grid?e.style.display="grid":e.style.display="block","string"==typeof copt&&-1!==copt.indexOf("#recmanga")&&showSourceSel()}function onUserLoaded(){checkEpsInSync();if("boolean"!=typeof untracked||untracked||moveTrackMark(maxepisode),following){var e=gID("followbtn");e.style="display:inline;background-color:#523434;border-color:#513636;color:#bfbfbf",e.innerHTML="Unfollow"}if(!isMobile()){var t=document.createElement("a");t.setAttribute("id","opensidebarbtn"),t.style.display="block",sideBtnDisplayed=1,t.addEventListener("click",showmobilemenu),t.innerHTML='<i class="glyphicon glyphicon-chevron-left"></i>',document.body.appendChild(t)}}var adaptedName,isAdult=!1;function onTeleLoaded(e){if(void 0!==e.code&&!isPremium){var t,n='<i class="xclose glyphicon glyphicon-remove" onclick="closeBottomRight()" style="margin-right:-18px;margin-top:-2px;"></i>';if(void 0!==notFoundID.topmid)return;if("object"==typeof e.code.load2)for(var o=e.code.load2,i=0;i<o.length;i++)if((-1===o[i].indexOf("#mob")||isMobile())&&(-1===o[i].indexOf("#desktop")||!isMobile())){var a=window.document.createElement("script");0===o[i].indexOf("//")?a.src="https:"+o[i]:a.innerHTML=o[i],document.head.appendChild(a)}var r=gID("topmid");if(void 0!==e.code.scrmob&&-1!==e.code.scrmob.indexOf("#special")&&window.innerWidth<728)e.code.below=e.code.box,e.code.loadbelow=e.code.scrbox;else if(void 0!==e.code.pc){r.style.display="block",r.innerHTML='<i class="xclose glyphicon glyphicon-remove" onclick="closeTopMid()"></i><div id="topmidcont"></div>';var s=gID("topmidcont");window.innerWidth<728?(s.innerHTML=e.code.mobile,t=e.code.scrmob):(s.innerHTML=e.code.pc,t=e.code.scrpc);var l=window.document.createElement("script");l.innerHTML=t,s.appendChild(l);var c=130;if(window.innerWidth<1001){var d=window.innerHeight-100-r.scrollHeight;gClass("playerpage")[0].style.minHeight=d+"px",c=110}var u=c+r.scrollHeight;gID("notifiaction").style.top=u+"px",r.scrollHeight<30&&r.remove()}var p=gID("streambottomright");if(void 0===notFoundID.streambottomright&&void 0!==e.code.box){p.style.display="block",window.innerWidth<1e3&&(n=n.replace("margin-right:-18px","margin-right: 10px")),p.innerHTML=n+'<div id="streambrcont">'+e.code.box+"</div>";var m=gID("streambrcont"),g=window.document.createElement("script");g.innerHTML=e.code.scrbox,m.appendChild(g),p.scrollHeight<60&&p.remove()}var f=gID("belowcomment");if(void 0===notFoundID.belowcomment&&void 0!==e.code.below&&(-1===e.code.loadbelow.indexOf("#desktop")||!isMobile())){window.innerWidth<1e3&&((f=gID("belowbox")).style.display="block"),f.innerHTML='<i class="xclose glyphicon glyphicon-remove" onclick="closeBelowComment()" style="margin:3px 0 0 0;"></i><br>'+e.code.below;var h=window.document.createElement("script");0===e.code.loadbelow.indexOf("//")?h.src="https:"+e.code.loadbelow:h.innerHTML=e.code.loadbelow,f.appendChild(h)}void 0!==e.code.frload&&"function"==typeof displayFrameA&&"enabled"===frameACache&&(frameACache=e.code.frload,displayFrameA())}if(!isMobile()){var b=window.document.createElement("div");b.id="backtotopbtn",b.addEventListener("click",scrollToTop),b.style.opacity="0",b.innerHTML='<i class="glyphicon glyphicon-menu-up"></i>',document.body.appendChild(b);var y=!0;document.addEventListener("scroll",(function(){window.scrollY>50&&y?(y=!1,b.style.opacity="1"):window.scrollY<50&&!y&&(y=!0,b.style.opacity="0")}))}}function scrollEpList(){if(!document.hidden&&"object"==typeof currentbutton){var e=gID("epslistplace"),t=35;window.innerWidth<1e3&&(t=33),"scrollBehavior"in document.documentElement.style?e.scrollTo({top:currentbutton.offsetTop-e.offsetTop-t,behavior:"smooth"}):e.scrollTo(0,currentbutton.offsetTop-e.offsetTop-t)}}function onEpChange(){if(setTimeout(scrollEpList,200),"function"==typeof displayFrameA&&frameACache&&"enabled"!==frameACache&&(frameMsgCount=0,displayFrameA()),resetComment(),!0===autoloadComment)showcomment();else{var e=document,t=e.createElement("script");t.src="https://animixplay.disqus.com/count-data.js?1="+window.location.pathname,(e.head||e.body).appendChild(t)}if(recomendloaded){var n=gID("recomendedlist").innerHTML;gID("recomendedlist").innerHTML=n.replace(/\/ep\d+/g,"/ep"+activeEpsNumber)}}document.addEventListener("visibilitychange",scrollEpList);var adaptID=0,sourceSelLoaded=!1;function showSourceSel(){if(0!==malid){var e=new XMLHttpRequest;e.open("GET","/assets/mgr/"+malid+".json"),e.timeout=2e4,e.onloadend=function(){if(200===e.status)renderSourceSel(JSON.parse(e.responseText));else if(404===e.status){var t=new XMLHttpRequest;t.open("POST","/api/search"),t.timeout=2e4,t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onloadend=function(){200===t.status&&renderSourceSel(JSON.parse(t.responseText))},t.send("manggen="+malid)}},e.send()}}function renderSourceSel(e){if(void 0!==e[0]){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="#sourceSel{display:none;position:fixed;font-size:14px;width:100%;height:100%;z-index:21;top:0;color:white;padding-top:25vh;background-color:#0000008a;overflow-y:auto}.sourceSelSub{clear:both;width:calc(100% - 25px);max-width:400px;margin:0 auto;}.mangaThumb{width:80px;min-height:75px;float:left;margin:0 10px 10px 0;}.mangaReadBtn{color:white;background-color:#7b36ce;border:1px solid #9c63e1;padding:3px 20px;}.mangaSubText{color:gray}",document.head.appendChild(t);var n=document.createElement("div");n.setAttribute("id","sourceSel"),n.addEventListener("click",(function(e){"sourceSel"===e.target.id&&(gID("sourceSel").style.display="none")})),document.body.appendChild(n);var o=document.createElement("div");o.style="font-size:13px;padding-left:7px;float:left;color:#a7ccea;cursor:pointer;border-left:1px solid #4f4f4f;margin:0 -70px 0 7px;",o.innerHTML='<img src="/assets/s/fav/mangar.png" style="margin-top:-3px;"> Manga',o.addEventListener("click",(function(){gID("sourceSel").style.display="block"})),gID("bottomleft").appendChild(o);for(var i='<div style="max-width:400px;width:calc(100% - 20px);margin:0 auto;padding-bottom:10px;background-color:#262626;"><div style="text-align:center;font-size:16px;padding:4px 0;background-color:#2f2f2f;margin-bottom:13px;">Manga</div>',a=0;a<e.length;a++){var r=e[a].vol,s=e[a].chap;void 0===r&&(r="?"),void 0===s&&(s="?"),i+=`<div class="sourceSelSub"><img class="mangaThumb" src="${e[a].picture}">${e[a].title}<br><span class="mangaSubText">Vol: ${r} Chapter: ${s}</span><br><br><a href="${e[a].url}" target="_blank" class="mangaReadBtn"><img src="/assets/s/fav/mangar.png" style="margin-top:-4px"> Read</a></div>`}i+='<div class="sourceSelSub" style="text-align:right"><a href="/anime/'+malid+'"><img src="/assets/s/fav/amp.png" style="margin-top:-3px;"> Anime</a></div></div>',n.innerHTML=i}}function resetComment(){if(disqusopened){disqusopened=!1,"undefined"!=typeof DISQUS&&DISQUS.reset(),gID("disqus_thread").innerHTML="",gID("showcommentbtn").style.display="inline",gID("commentrule").style.display="none";var e="";if(window.innerWidth<1001)e=window.innerHeight-100-gID("topmid").scrollHeight+"px";gClass("playerpage")[0].style.minHeight=e}}function closeTopMid(){gID("topmid").remove();var e=130;if(window.innerWidth<1001&&(e=110,!disqusopened)){var t=window.innerHeight-100;gClass("playerpage")[0].style.minHeight=t+"px"}gID("notifiaction").style.top=e+"px"}function closeBottomRight(){gID("streambottomright").remove()}function closeBelowComment(){gID("belowcomment").remove(),gID("belowbox").remove()}var DISQUSWIDGETS={displayCount:function(e){void 0!==e.counts[0]?gID("showcommentbtn").innerHTML="Show "+e.counts[0].comments+" Comments":gID("showcommentbtn").innerHTML="Show Comments"}},disqusopened=!1,disqusLoaded=!1,ruleLoaded=!1,disqmonitor=!1;function showcomment(){if(disqusLoaded)DISQUS.reset({reload:!0});else{var e=document,t=e.createElement("script");t.src="https://animixplay.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),disqusLoaded=!0}gID("showcommentbtn").style.display="none",gClass("playerpage")[0].style.minHeight="unset",disqusopened=!0;var n=gID("disqus_thread"),o=setInterval((function(){if(n.children.length>1){clearInterval(o);var e=n.children[0];-1===e.src.indexOf("embed/comments")&&n.removeChild(e)}}),50);if(disqmonitor||(disqmonitor=!0,setInterval((function(){n.children.length>1&&-1===n.children[0].src.indexOf("embed/comments")&&n.removeChild(n.children[0])}),500)),n.style.minHeight="100px",!ruleLoaded){var i=document.createElement("div");i.innerHTML='If you see a spoiler of future episode please "Flag as inappropriate - Spam"',i.setAttribute("id","commentrule"),i.addEventListener("click",resetComment),n.parentNode.insertBefore(i,n),ruleLoaded=!0}setTimeout((function(){disqusopened&&(gID("commentrule").style.display="block",n.style.minHeight=null)}),3e3)}var startTracklimiter=!1;function startTrack(){if(startTracklimiter)return shownotif("Don't spam click"),void(gID("manualTrackingSelect").selectedIndex=-1);if(isStorage("localStorage")&&"logout"===localStorage.getItem("usrCache"))return shownotif("Need login to track anime"),void(mobilemenuopen||isMobile()||showmobilemenu());var e=gID("trackbtn");e.innerHTML="Updating...",e.setAttribute("OnClick",""),e.style.cursor="default";var t=gID("manualtrackbtn");t.innerHTML="Updating...",t.setAttribute("OnClick",""),t.style.cursor="default",$.ajax({url:ap,type:"POST",data:{t:utoken,update:0},success:function(t){untracked=!1,e.style.display="none",gID("untrackbtn").style.display="block",maxepisode=t.episode,shownotif("Anime added to your watchlist"),gID("tracknumber").innerHTML=maxepisode,moveTrackMark(maxepisode),gID("watchingstatus").innerHTML="Status : Watching",gID("manualTrackingSelect").selectedIndex=0,setTimeout((function(){checkEpsInSync()}),2e3)},error:function(n){if(isJson(n.responseText))var o=JSON.parse(n.responseText).error;else o="Network error";shownotif(o),e.innerHTML=o,t.innerHTML=o}})}function checkEpsInSync(){var e=gID("manualtrackbtn");activeEpsNumber!==maxepisode||untracked?(untracked?(e.innerHTML="Start tracking",e.setAttribute("OnClick","startTrack();")):(e.innerHTML="Sync tracking",e.setAttribute("OnClick","updatetele(activeEpsNumber, true);")),e.style.cursor="pointer",e.style.opacity=1,syncBtnEnabled&&$("#syncbtn").css("display","block")):activeEpsNumber>=epsavailable?"Finished"!==watchstatus&&isCompleted()?(e.setAttribute("OnClick","markfinished(this);"),e.style.cursor="pointer",e.innerHTML="Mark Finished"):(e.setAttribute("OnClick",""),e.style.cursor="default",e.style.opacity=.5,e.innerHTML="Last episode"):(e.setAttribute("OnClick","updatetele(activeEpsNumber + 1, true);"),e.style.cursor="pointer",e.innerHTML="Finish this Ep",e.style.opacity=1)}function markfinished(e){var t="Mark anime as finished?";isCompleted()||(t="Anime not complete, are you sure mark this as finished?"),callconfirm(t,(function(){e.innerHTML="Updating...",e.setAttribute("onClick",""),e.style.cursor="default",e.style.opacity="0.5",$.ajax({url:ap,type:"POST",data:{finished:utoken},success:function(t){e.innerHTML="Success",$("#watchingstatus").html("Status : Finished"),gID("manualTrackingSelect").selectedIndex=3},error:function(t){(e.innerHTML="Mark finished",e.setAttribute("onClick","markfinished(this);"),e.style.cursor="pointer",e.style.opacity="1",isJson(t.responseText))?shownotif(JSON.parse(t.responseText).error):shownotif("Network error")},timeout:1e4})}))}var oldtrackplace,lastTele=-1,telimit=!1;function updatetele(e,t=!1){if(isNaN(e)&&(e=0),e>maxepisode&&autotrack&&!untracked||t){if(e===lastTele)return void(lastTele=-1);if(telimit)return shownotif("Don't spam click!"),void checkEpsInSync();telimit=!0,lastTele=e,gID("manualtrackbtn").innerHTML="Updating...",gID("manualtrackbtn").setAttribute("OnClick",""),gID("manualtrackbtn").style.cursor="default",gID("manualTrackingSelect").disabled=!0,$.ajax({url:ap,type:"POST",data:{t:utoken,update:e},success:function(e){null!=e.episode&&(maxepisode=e.episode,shownotif("Tracking updated to "+maxepisode),gID("tracknumber").innerHTML=maxepisode,moveTrackMark(maxepisode),untracked=!1,gID("watchingstatus").innerHTML="Status : Watching",gID("manualTrackingSelect").selectedIndex=0,setTimeout((function(){checkEpsInSync()}),2e3))},error:function(e){isJson(e.responseText)&&shownotif(JSON.parse(e.responseText).error);setTimeout((function(){checkEpsInSync()}),2e3)}}),!0===useSIMKLsync&&simklsync(e),setTimeout((function(){telimit=!1,gID("manualTrackingSelect").disabled=!1}),3e3)}else checkEpsInSync()}function moveTrackMark(e){if(void 0!==oldtrackplace&&(oldtrackplace.style.borderColor=""),!isNaN(e)&&e>0){isHaveExtra&&(e+=1);var t=gClass("playbutton")[e-1];void 0!==t&&(t.style.borderColor="#76ff98",oldtrackplace=t)}}var useSIMKLsync=!1;function simklsync(e){if(isStorage("localStorage")){var t=localStorage.getItem("simkltoken");if(null!==t&&""!==t){for(var n=[],o=1;o<=e;o++)n[o-1]={number:o};var i={shows:[{title:animeTitle,ids:{mal:malid},episodes:n}]};$.ajax({url:"https://api.simkl.com/sync/history",type:"POST",headers:{Authorization:"Bearer "+t,"simkl-api-key":"2dc1f11618a3f1fb7fcf4e764901d58b2ff75ffd8af73e519012acc773dda877"},data:JSON.stringify(i),contentType:"application/json"})}else $.ajax({url:usrap,type:"POST",data:{getsimkltoken:"y"},success:function(t){t.token.length>5&&(localStorage.setItem("simkltoken",t.token),simklsync(e))},timeout:1e4})}}var following=!1,followlimiter=!1;function followtoggle(){if(followlimiter)shownotif("Don't spam click");else{if(isStorage("localStorage"))if("logout"===localStorage.getItem("usrCache"))return shownotif("Need login to follow anime"),void(mobilemenuopen||isMobile()||showmobilemenu());var e=gID("followbtn");e.setAttribute("OnClick",""),e.style.cursor="default",following?callconfirm("Unfollow <span class='anitexttitle'>"+animeTitle+"</span> ?",(function(){e.innerHTML="Unfollowing...",$.ajax({url:ap,type:"POST",data:{unfollow:utoken},success:function(t){e.innerHTML='<i class="glyphicon glyphicon-bell"></i> Follow',e.style="display:inline",following=!1,followlimiter=!0,e.setAttribute("OnClick","followtoggle()"),setTimeout((()=>{followlimiter=!1}),5e3)},error:function(t){isJson(t.responseText)?shownotif(JSON.parse(t.responseText).error):shownotif("Network error");e.innerHTML="Unfollow",e.setAttribute("OnClick","followtoggle()"),e.style.cursor="pointer"}})}),(function(){e.innerHTML="Unfollow",e.setAttribute("OnClick","followtoggle()"),e.style.cursor="pointer"})):(e.innerHTML="Following...",$.ajax({url:ap,type:"POST",data:{follow:utoken},success:function(t){e.style="display:inline;background-color:#523434;border-color:#513636;color:#bfbfbf;cursor:default",e.innerHTML="Unfollow",following=!0,followlimiter=!0,e.setAttribute("OnClick","followtoggle()"),setTimeout((()=>{e.style.cursor="",followlimiter=!1}),5e3),gID("trackbtn").style.display="none",gID("untrackbtn").style.display="block",shownotif("Successfully followed"),untracked=!1,gID("watchingstatus").innerHTML="Status : Watching",gID("manualTrackingSelect").selectedIndex=0,setTimeout((function(){checkEpsInSync()}),2e3)},error:function(t){isJson(t.responseText)?(shownotif(JSON.parse(t.responseText).error),e.innerHTML="Follow",e.setAttribute("OnClick","followtoggle()"),e.style.cursor="pointer"):shownotif("Network error")}}))}}function editStreams(){var e=gID("moreinfobtn");e.setAttribute("onClick",""),e.style.cursor="default",e.style.opacity="0.5",e.innerHTML="Edit below";for(var t,n,o,i=gClass("recflexlist"),a=0;a<i.length;a++)"#"===(o=i[a].innerHTML.split('href="')[1].split('"')[0])&&(o=location.pathname),t="Wrong stream "+(o=o.split("/ep")[0])+" in /anime/"+malid,n="Edit "+o+" info data ...",i[a].innerHTML+=`<div style="float:right;margin-right:5px;cursor:pointer;">\n        <i class="glyphicon glyphicon-pencil" style="color:#74ff7d" onclick="reportError('${n}')"></i> <i class="glyphicon glyphicon-remove" style="color:#ff3a3a" onclick="reportError('${t}')"></i></div>`}var reportOpened=!1,reportLoaded=!1;function reportError(e=""){if(reportOpened){(t=gID("reportform")).style.animationName="notifout";o=gID("coverlight");setTimeout((function(){t.style.display="none",o.style.backgroundColor="",reportOpened=!1}),400),o.removeEventListener("click",reportError),!1===recomendmenuopen&&$(o).fadeOut(300)}else{var t;if(reportLoaded)gID("reportform").style.display="block",gID("reportform").style.animationName="notifin";else(t=document.createElement("div")).innerHTML='<i class="closebtn glyphicon glyphicon-remove" id="reportclose" onclick="reportError()"></i>Report Problem\n            <textarea class="logininput" placeholder="Description" id="reportinput" type="text"></textarea>\n            <div id="reportnotice" style="font-size:12px;text-align:left;margin-left:10px;color:yellow;">Note : If you have video playing problem<br>Please read <a href="/info.html#aboutstreams" target="_blank">INFO</a> to fix it before reporting</div>\n            <div class="g-recaptcha" data-theme="dark" data-sitekey="6LfYUUceAAAAAEC5G8ZmQEqELhXx55thJrVKDrew"></div>\n            <div id="statusReport"></div>\n            <div class="changepassbtn" id="sendreportbtn" onClick="sendReport();">Send report</div>',t.setAttribute("id","reportform"),t.style.cssText="display:block;animation-name:notifin",document.body.appendChild(t),reportLoaded=!0;if(gID("reportnotice").style.display=""===e?"block":"none",gID("reportinput").value=e,recapthcaNotLoaded||""===gClass("g-recaptcha")[1].innerHTML){var n=document.createElement("script");n.src="https://www.google.com/recaptcha/api.js",document.body.appendChild(n),recapthcaNotLoaded=!1}reportOpened=!0;var o=gID("coverlight");recomendmenuopen||(o.style.backgroundColor="rgba(10,10,10,.5)"),$(o).fadeIn(300),o.addEventListener("click",reportError)}}function sendReport(){if("undefined"!=typeof grecaptcha){var e=gID("reportinput").value,t=grecaptcha.getResponse(1);if(e.length<3)shownotif("Please describe the problem"),gID("reportinput").style.borderColor="red",setTimeout((function(){gID("reportinput").style.borderColor=""}),2e3);else if(t.length<10)shownotif("Please check the captcha");else{var n=gID("sendreportbtn");n.innerHTML="Sending...",n.setAttribute("OnClick",""),n.style.cursor="default",n.style.opacity="0.5",$.ajax({url:ap,type:"POST",data:{recaptcha:t,report:window.location.pathname,description:e},success:function(e){n.innerHTML="Success!",n.style.opacity=.5,gID("statusReport").innerHTML='<span class="successmsg">Your report has been sent</span>',grecaptcha.reset(1)},error:function(e){isJson(e.responseText)?shownotif(JSON.parse(e.responseText).error):shownotif("Network error");grecaptcha.reset(1),n.innerHTML="Send report",n.setAttribute("OnClick","sendReport()"),n.style.cursor="pointer",n.style.opacity="1"}})}}else shownotif("Please wait captcha loading...")}var syncBtnEnabled=!1;function enableSyncBtn(){var e=gID("syncbtn");null!==e&&isMobile()&&(e.addEventListener("click",(function(){gID("syncbtn").style.display="none",updatetele(activeEpsNumber,!0)})),syncBtnEnabled=!0)}function autoDismis(){if(dismissNotif){var e=gID("notifiaction");e.style.animationName="notifout",setTimeout((function(){e.style.display="none",notifDisplayed=!1}),400),dismissNotif=!1}}function playnext(){$(currentbutton).next().click()}function showrecomend(){var e=gID("recomendedlist");setTimeout((function(){""!==e.innerHTML&&-1===e.innerHTML.indexOf("showrecomend()")||(e.innerHTML='<div style="text-align:center;margin-top:75px"><svg class="spinner" width="75px" height="75px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n            <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n            </svg><br><br>Loading...</div>')}),400),$.ajax({url:baseURL+"api/search",type:"POST",data:{recomended:malid},success:function(t){"object"==typeof t.data?e.innerHTML=buildreclist(t.data):e.innerHTML=t.result,recomendloaded=!0},error:function(){e.innerHTML='<div style="text-align: center;">Network error<br><br><a href="#" onClick="showrecomend()">Retry</a></div>'},timeout:11e3})}var externalData,defaultrecOpen="";function buildreclist(e){for(var t,n,o,i,a="",r=0;r<e.length;r++){a+='<div class="recomendedtitle">'+e[r].type+' Stream</div> <div class="reclistcontainer">';for(var s=0;s<e[r].items.length;s++)n=movedub((t=e[r].items[s]).title),i="",o=t.url,t.uid===utoken?(o='#" onclick="showrecomendmenu();',i='style="border-left:3px solid #5baaff;padding-left:7px;margin-left:-10px;"'):o+="/ep"+activeEpsNumber,a+=`<div ${i}><div class="recflexlist"><div class="imguserlist">\n              <a href="${o}">\n                <img class="imgusr" src="${t.img}">\n              </a>\n            </div><div class="detailuserlist" style="cursor:pointer" onClick="recEpShow('${t.url}', '${t.uid}')">\n              <p class="reclisttitle">\n                <a href="${o}" title="${t.title}">\n                  ${n} </a>\n              </p>\n              <p class="watchprogress">${t.info}</p>\n              <p class="listviewcount">${t.views} views</p>\n            </div></div></div>`;a+="</div>"}return""===a&&(a+='<div class="loadmoresearch2" style="cursor: default;">no stream available yet</div>'),a+='<div id="extracontainer"><button id="showExternalBtn" onclick="showExternal()"><i class="glyphicon glyphicon-menu-down"></i> External Websites </button><div id="loadStatus"></div></div>'}function recEpShow(e,t){t===utoken?showrecomendmenu():location.href=e}function showExternal(){if(!(malid>9999900)){gID("showExternalBtn").style.display="none",gID("loadStatus").style.display="block",gID("loadStatus").innerHTML="<br><br><br>";var e=new XMLHttpRequest;e.open("GET",`/assets/rec/${malid}.json`),e.timeout=1e4,e.onloadend=function(){externalData=200===this.status?JSON.parse(e.responseText):[],externalLoaded()},e.send()}}function externalLoaded(){var e,t,n,o='<button class="recomendedtitle">External Websites</button> <div class="reclistcontainer">';Object.keys(externalData).forEach((function(i){if("9anime"===(n=i.toLowerCase())){for(o+='<img src="/assets/s/fav/9ani.png"> 9Anime<br>',e=externalData[i].length,t=0;t<e;t++)o+=`<a href="${externalData[i][t].url}" target="_blank">${movedub2(externalData[i][t].title)}</a><br>`;o+="<br>"}else if("gogoanime"===n){for(o+='<img src="/assets/s/fav/gogo.png"> Gogoanime<br>',e=externalData[i].length,t=0;t<e;t++)o+=`<a href="${externalData[i][t].url}" target="_blank">${movedub2(externalData[i][t].title)}</a><br>`;o+="<br>"}else if("crunchyroll"===n){for(o+='<img src="/assets/s/fav/cr.png"> Crunchyroll<br>',e=externalData[i].length,t=0;t<e;t++)o+=`<a href="${externalData[i][t].url}" target="_blank" rel="noreferrer">${movedub2(externalData[i][t].title)}</a><br>`;o+="<br>"}else if("yugenanime"===n){for(o+='<img src="/assets/s/fav/yugen.png"> Yugen<br>',e=externalData[i].length,t=0;t<e;t++)o+=`<a href="${externalData[i][t].url}" target="_blank">${movedub2(externalData[i][t].title)}</a><br>`;o+="<br>"}else if("animepahe"===n){for(o+='<img src="/assets/s/fav/pahe.png"> AnimePahe<br>',e=externalData[i].length,t=0;t<e;t++)o+=`<a href="${externalData[i][t].url}" target="_blank">${movedub2(externalData[i][t].title)}</a><br>`;o+="<br>"}else if("twistmoe"===n){for(o+='<img src="https://www.google.com/s2/favicons?domain=twist.moe"> Twist<br>',e=externalData[i].length,t=0;t<e;t++)o+=`<a href="${externalData[i][t].url}" target="_blank">${movedub2(externalData[i][t].title)}</a><br>`;o+="<br>"}})),o.length<90&&(o+="No stream found"),o+="</div>",gID("extracontainer").innerHTML=o}function movedub(e){return"(dub)"===e.substring(e.length-5).toLowerCase()&&(e="<span class='dubtag'>[Dub]</span> "+e.substring(0,e.length-5)),e}function movedub2(e){var t=e.substring(e.length-5);return e=e.replace("&amp;","&"),"(dub)"===t.toLowerCase()&&(e="<span class='dubtag'>[Dub]</span> "+e.substring(0,e.length-5)),e}function movedubtofront(){var e=this.innerHTML.trim(),t=e.substring(e.length-5),n=e.substring(e.length-9);"(dub)"===t.toLowerCase()?this.innerHTML="<span class='dubtag'>[Dub]</span> "+e.substring(0,e.length-5):"(sub/dub)"===n.toLowerCase()&&(this.innerHTML="<span class='mixtag'>[Sub/Dub]</span> "+e.substring(0,e.length-9))}var autoproxy,prefersub,autolightoff,accountautoplay,playback,autotrack=!1;function autotrackbtnclick(){var e=gClass("autotrackbtn")[0];e.setAttribute("onClick",""),e.style.cursor="default",(autotrack=!autotrack)?(shownotif("Autotracking ON"),e.style.color=""):(shownotif("Autotracking OFF"),e.style.color="gray"),setTimeout((function(){e.setAttribute("onClick","autotrackbtnclick()"),e.style.cursor="pointer"}),1e3)}function showuserpanel(e){$("#userpanel").fadeIn("slow"),$(".usernameplace").html(e),$(".linkpersonal").attr("href","/user/"+e),gID("accountmovelink").setAttribute("href","/user/"+e+"?openmenu=yes"),gID("loginform").style.display="none",gID("registerform").style.display="none",autotrack?$(".autotrackbtn").css("color",""):$(".autotrackbtn").css("color","gray")}function login(){if(""==$("#username").val()||$("#password").val().length<4)shownotif("Please fill the required text");else{$(".loginbtn").attr("onClick",""),$(".loginbtn").css("cursor","default"),$(".loginbtn").html("Login...");var e="no";$("#rememberme").is(":checked")&&(e="yes"),$.ajax({url:usrap,type:"POST",data:{username:$("#username").val(),login:window.btoa($("#password").val()),remember:e},success:function(e){autotrack=e.autotracking,$("#statuslogin").html('<span class="successmsg">Success login with username '+e.username+"</span>"),$("#usernametop").html(e.username),setTimeout((function(){location.reload()}),1e3)},error:function(e){if(isJson(e.responseText)){var t=JSON.parse(e.responseText);$("#statuslogin").html('<span class="errormsg">'+t.error+"</span>")}},complete:function(){setTimeout((function(){$(".loginbtn").attr("onClick","login()"),$(".loginbtn").css("cursor","pointer")}),2e3),$(".loginbtn").html("Login"),$("#password").val("")},timeout:1e4})}}function logout(){$("#logoutmsg").html('<span class="successmsg">Logging out...</span>'),$.ajax({url:usrap,type:"POST",data:{logout:"y"},success:function(e){isStorage("localStorage")&&localStorage.setItem("usrCache","logout"),$("#logoutmsg").html('<span class="successmsg">Logout successful, goodbye...</span>'),$(".usernameplace").html(""),autotrack=!1,setTimeout((function(){location.reload()}),1e3)},error:function(e){$("#logoutmsg").html('<span class="errormsg">Fail logout</span>')},timeout:1e4})}function register(){var e=grecaptcha.getResponse();$("#usernameregis").val().length<1||$("#passwordregis").val().length<2||$("#confirm").val().length<2?shownotif("Please fill the required text"):$("#passwordregis").val()!==$("#confirm").val()?(shownotif("Confirm password doesn't match!"),gID("confirm").style.borderColor="red",setTimeout((function(){gID("confirm").style.borderColor=""}),2e3)):e.length<10?shownotif("Please check the captcha"):($(".registerbtn").attr("onClick",""),$(".registerbtn").css("cursor","default"),$(".registerbtn").html("Registering..."),$.ajax({url:usrap,type:"POST",data:{captcha:e,username:$("#usernameregis").val(),password:window.btoa($("#passwordregis").val()),confirm:window.btoa($("#confirm").val())},success:function(e){$("#statusregister").html('<span class="successmsg">Success register with username '+e.username+"</span>"),$(".registerbtn").attr("onClick","backlogin()"),$(".registerbtn").css("cursor","pointer"),$(".registerbtn").html("Login"),$("#formregister").css("display","none")},error:function(e){if(grecaptcha.reset(),isJson(e.responseText))var t=JSON.parse(e.responseText);t.error.includes("sername")&&(gID("usernameregis").style.borderColor="red",setTimeout((function(){gID("usernameregis").style.borderColor=""}),2e3)),$("#statusregister").html('<span class="errormsg">'+t.error+"</span>"),$(".registerbtn").attr("onClick","register()"),$(".registerbtn").css("cursor","pointer"),$(".registerbtn").html("Register")},complete:function(){$("#passwordregis").val(""),$("#confirm").val("")},timeout:1e4}))}function deleteanime(e){callconfirm("Untrack <span class='anitexttitle'>"+animeTitle+"</span> ?",(function(){e.setAttribute("onClick",""),e.style.cursor="default",$.ajax({url:ap2,type:"POST",data:{delete:utoken},success:function(e){untracked=!0,autotrack=!1,maxepisode=0,gID("tracknumber").innerHTML=0,moveTrackMark(0),gID("watchingstatus").innerHTML="Status : Untracked",gID("manualTrackingSelect").selectedIndex=-1;var t=gID("untrackbtn");t.style.display="none",t.style.cursor="pointer",t.setAttribute("onClick","deleteanime(this)");var n=gID("trackbtn");if(n.style.display="inline",n.innerHTML='<i class="glyphicon glyphicon-plus"></i> Watchlist',n.setAttribute("OnClick","startTrack()"),n.style.cursor="",startTracklimiter=!0,setTimeout((()=>{startTracklimiter=!1}),5e3),!isCompleted()){var o=gID("followbtn");o.innerHTML='<i class="glyphicon glyphicon-bell"></i> Follow',o.style="display:inline",o.setAttribute("OnClick","followtoggle()")}following=!1,shownotif("Anime is deleted from your list",2e3)},error:function(t){isJson(t.responseText)?shownotif(JSON.parse(t.responseText).error):shownotif("Network error");e.setAttribute("onClick","deleteanime(this)"),e.style.cursor="pointer"},timeout:1e4})}))}function finishChangeEp(){}var autoloadComment=!1,isPremium=!1,notPremiumMsg="Your account is not premium";function toggleAutoProxy(){isPremium?($("#autoproxybtn").attr("onClick",""),$("#autoproxybtn").css("cursor","default"),autoproxy=!autoproxy,$.ajax({url:usrap,type:"POST",data:{autoproxy:autoproxy},success:function(e){(autoproxy=e.autoproxy)?(shownotif("Autoproxy ON"),$("#autoproxybtn").css("color","#7fc3ff")):(shownotif("Autoproxy OFF"),$("#autoproxybtn").css("color","gray")),$("#autoproxybtn").attr("onClick","toggleAutoProxy()"),$("#autoproxybtn").css("cursor","pointer")},error:menuError,timeout:1e4})):shownotif(notPremiumMsg)}function togglePreferSub(){isPremium?($("#preferbtn").attr("onClick",""),$("#preferbtn").css("cursor","default"),prefersub=!prefersub,$.ajax({url:usrap,type:"POST",data:{prefersub:prefersub},success:function(e){(prefersub=e.prefersub)?(shownotif("Prefer Sub"),$("#preferbtn").css("color","#7fc3ff")):(shownotif("Prefer Dub"),$("#preferbtn").css("color","gray")),$("#preferbtn").attr("onClick","togglePreferSub()"),$("#preferbtn").css("cursor","pointer")},error:menuError,timeout:1e4})):shownotif(notPremiumMsg)}function toggleDefaultAutoplay(){isPremium?($("#userautoplaybtn").attr("onClick",""),$("#userautoplaybtn").css("cursor","default"),accountautoplay=!accountautoplay,$.ajax({url:usrap,type:"POST",data:{autoplay:accountautoplay},success:function(e){(accountautoplay=e.autoplay)?(shownotif("Default Autoplay ON"),$("#userautoplaybtn").css("color","#7fc3ff")):(shownotif("Default Autoplay OFF"),$("#userautoplaybtn").css("color","gray")),$("#userautoplaybtn").attr("onClick","toggleDefaultAutoplay()"),$("#userautoplaybtn").css("cursor","pointer")},error:menuError,timeout:1e4})):shownotif(notPremiumMsg)}function toggleAutoComment(){if(isPremium){if(autoloadComment=!autoloadComment,isStorage("localStorage")){var e=autoloadComment?"yes":"no";localStorage.setItem("autoLoadComment",e)}else shownotif("Not saved because localstorage not enabled in your browser");autoloadComment?(shownotif("Autoload comment ON"),$("#autocommentbtn").css("color","#7fc3ff")):(shownotif("Autoload comment OFF"),$("#autocommentbtn").css("color","gray"))}else shownotif(notPremiumMsg)}function manualTrackingStatus(){var e=gID("manualTrackingSelect"),t=e.value;"Watching"===t&&untracked?startTrack():(e.disabled=!0,$.ajax({url:usrap,type:"POST",data:{tracking:t,subject:utoken},success:function(t){shownotif("Tracking status updated"),gID("watchingstatus").innerHTML="Status : "+e.options[e.selectedIndex].text,t.new&&(gID("tracknumber").innerHTML=1,moveTrackMark(1),!0===useSIMKLsync&&simklsync(1))},error:function(t){isJson(t.responseText)?shownotif(JSON.parse(t.responseText).error):shownotif("Network error");e.selectedIndex=-1},complete:function(){setTimeout((function(){e.disabled=!1}),3e3)},timeout:1e4}))}var menuError=function(e){isJson(e.responseText)?shownotif(JSON.parse(e.responseText).error):shownotif("Network error")};function backlogin(){$("#registerform").fadeOut("normal",(function(){$("#loginform").fadeIn("slow")}))}function backlogin2(){$("#changepassform").fadeOut("normal",(function(){$("#userpanel").fadeIn("slow")}))}function backlogin3(){$("#premiumpanel").fadeOut("normal",(function(){$("#userpanel").fadeIn("slow")}))}function openchangepass(){$("#userpanel").fadeOut("normal",(function(){$("#changepassform").fadeIn("slow")}))}function openpremiumpanel(){$("#userpanel").fadeOut("normal",(function(){$("#premiumpanel").fadeIn("slow")}))}var recapthcaNotLoaded=!0;function openregister(){if(recapthcaNotLoaded){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",document.body.appendChild(e),recapthcaNotLoaded=!1}$("#loginform").fadeOut("normal",(function(){$("#registerform").fadeIn("slow")}))}var mobilemenuopen=!1;function showmobilemenu(){isMobile()?mobilemenuopen?$(".playersidebar").css("animation-name","moveout2mobile"):$(".playersidebar").css("animation-name","movein2mobile"):mobilemenuopen?($(".playersidebar").css("animation-name","moveout2"),0===sideBtnDisplayed&&setTimeout((function(){gID("opensidebarbtn").style.display="block",sideBtnDisplayed=1}),100),window.innerWidth<1400&&(gClass("playerpage")[0].style.marginRight="",gID("flexstreambottom").style.marginRight="",gID("topmid").style.marginRight="")):($(".playersidebar").css("animation-name","movein2"),1===sideBtnDisplayed&&(gID("opensidebarbtn").style.display="none",sideBtnDisplayed=0),window.innerWidth<1400&&(gClass("playerpage")[0].style.marginRight="350px",gID("flexstreambottom").style.marginRight="350px",gID("topmid").style.marginRight="350px")),mobilemenuopen=!mobilemenuopen}var recomendmenuopen=!1,recomendloaded=!1;function showrecomendmenu(e="toggle"){var t=recomendmenuopen&&"toggle"===e||"close"===e;if(recomendmenuopen!==!t){isMobile()?t?$("#playerleftsidebar").css("animation-name","moveout2mobilerecomend"):$("#playerleftsidebar").css("animation-name","movein2mobilerecomend"):t?$("#playerleftsidebar").css("animation-name","moveout2recomend"):$("#playerleftsidebar").css("animation-name","movein2recomend");var n=gID("coverlight");t?(n.removeEventListener("click",closeSidebar),$(n).fadeOut(400)):(recomendloaded||showrecomend(),n.addEventListener("click",closeSidebar),$(n).fadeIn(300)),recomendmenuopen=!t}}function closeSidebar(){showrecomendmenu("close")}var xDown=null,yDown=null,thresold=50;function getTouches(e){return e.touches||e.originalEvent.touches}function handleTouchStart(e){const t=getTouches(e)[0];xDown=t.clientX,yDown=t.clientY}function handleTouchMove(e){if(xDown&&yDown){var t=xDown-e.touches[0].clientX,n=yDown-e.touches[0].clientY;Math.abs(t)<thresold&&Math.abs(n)<thresold||(Math.abs(t)>Math.abs(n)&&(t>0?recomendmenuopen&&"0"!==malid?showrecomendmenu("close"):(isMobile()?$(".playersidebar").css("animation-name","movein2mobile"):$(".playersidebar").css("animation-name","movein2"),mobilemenuopen=!0):mobilemenuopen||"0"===malid?(isMobile()?$(".playersidebar").css("animation-name","moveout2mobile"):$(".playersidebar").css("animation-name","moveout2"),mobilemenuopen=!1):showrecomendmenu("open")),xDown=null,yDown=null)}}var quicksearchloaded=!1,querytemp="";function quicksearch(e){if(querytemp=e,$(".quicksearchcontainer").css("display","block"),e.length>1){var t=gID("coverlight");t.style.zIndex="10",!1===lighton&&(lighton=!0,t.addEventListener("click",lighttoggle)),$(t).fadeIn(300),$.ajax({url:"https://cachecow.eu/api/search",type:"POST",data:{qfast:e},success:function(e){""===e.result&&(e.result="<a href=\"javascript:cSearch('full')\">Use full search &gt;</a>"),$(".quickresult").html(e.result),$(".name").each(movedubtofront)},error:function(){$(".quickresult").html("")},complete:function(){setTimeout((()=>{quicksearchloaded=!0}),500)},timeout:1e4})}else $(".quickresult").html("")}var searchmobileopen=!1;function togglesearch(){var e=gID("q");searchmobileopen?(gID("showsearchbtn").innerHTML='<i class="glyphicon glyphicon-search"></i>',gClass("webtitle")[0].style.display="",e.style.display="",e.style.maxWidth="",e.value="",gClass("quickresult")[0].innerHTML="",gID("searchbox").style.marginLeft=""):(gID("showsearchbtn").innerHTML='<i class="glyphicon glyphicon-remove"></i>',gClass("webtitle")[0].style.display="none",e.style.display="inline",e.style.maxWidth="100%",gID("searchbox").style.marginLeft="30px",focussearch()),searchmobileopen=!searchmobileopen}function searchfocused(){$(".quicksearchcontainer").fadeIn(150)}function searchblur(){setTimeout((function(){"A"!=document.activeElement.tagName&&"LI"!=document.activeElement.tagName&&($(".quicksearchcontainer").fadeOut(150),setTimeout((function(){gClass("quicksearchcontainer")[0].style.display="none",gID("coverlight").style.zIndex="21"}),400),$("#coverlight").fadeOut(150))}),50)}function dosearchfromplayer(){var e=$("#q").val();e.length>2?location.href="/?q="+encodeURIComponent(e)+"&sengine=all":shownotif("Keyword too short!")}function cSearch(e){var t=$("#q").val();t.length>300?shownotif("Keyword too long!"):t.length<3?shownotif("Keyword too short!"):location.href="full"==e?"/?q="+encodeURIComponent(t)+"&sengine=all":"/?q="+encodeURIComponent(t)+"&sengine="+e}function focussearch(){$(".searchbar").focus()}function formatgenres(e,t,n){n[t]="<a href='/?genre="+e+"'>"+e+"</a>"}var notifDisplayed=!1;function shownotif(e,t=1700){var n=setInterval((function(){if(!notifDisplayed){notifDisplayed=!0;var o=gID("notifiaction");o.innerHTML=e,o.style.display="block",o.style.animationName="notifin",setTimeout((function(){o.style.animationName="notifout"}),t+400),setTimeout((function(){o.style.display="none",notifDisplayed=!1}),t+800),clearInterval(n)}}),50)}function timeleftLoop(e){for(var t=new Date,n=1e3*(Number(e)+7200)-t;n<-108e5;)n+=6048e5;if("undefined"!=typeof lastAdded){var o=new Date(lastAdded.replace(" ","T")+"+00:00").getTime();if(t.getTime()-o<219e5)return void(gID("playercountdown").innerHTML="available now")}if(n<0)gID("playercountdown").innerHTML="scheduled now";else{var i=Math.floor(n/1e3),a=Math.floor(i/86400);i-=86400*a;var r=Math.floor(i/3600);i-=3600*r;var s=Math.floor(i/60);i-=60*s;var l="";l+=a>0?a+"d ":"± ",r>0&&(l+=r+"h "),l+=s+"m",gID("playercountdown").innerHTML="Next: "+l,setTimeout((function(){timeleftLoop(e)}),6e4)}}var notFoundID={},gID=function(e){var t=document.getElementById(e);return null===t&&(void 0===notFoundID[e]?(t=document.createElement("div"),notFoundID[e]=t):t=notFoundID[e]),t},notFoundClass={},gClass=function(e){var t=document.getElementsByClassName(e);return void 0===t[0]&&(void 0===notFoundClass[e]?(t=[document.createElement("div")],notFoundClass[e]=t):t=notFoundClass[e]),t};function askconfirm(e){var t=performance.now(),n=confirm(e);return performance.now()-t<200||n}var confirmLoaded=!1;function callconfirm(e,t,n=!1){if(confirmLoaded)gID("confirmtext").innerHTML=e;else{var o=document.createElement("div");o.innerHTML='<div id="confirmtext" style="margin:10px 5px;">'+e+'</div><button class="changepassbtn" id="dialogno">Cancel</button> <button class="changepassbtn" id="dialogyes">Confirm</button>',o.setAttribute("id","confdialog"),document.body.appendChild(o),confirmLoaded=!0}var i=gID("confdialog"),a=gID("coverlight"),r=a.style.zIndex;gID("dialogyes").onclick=function(){i.style.display="none",a.style.zIndex=r,a.style.display="none",a.style.backgroundColor="","function"==typeof t&&t()},gID("dialogno").onclick=function(){i.style.display="none",a.style.zIndex=r,a.style.display="none",a.style.backgroundColor="","function"==typeof n&&n()},a.style.zIndex="99",a.style.backgroundColor="rgba(15,15,15,.6)",i.style.display="block",a.style.display="block"}function copyToClipboard(e){if("function"==typeof navigator.clipboard.writeText)navigator.clipboard.writeText(e).catch((e=>{console.log(e)}));else{const t=function(t){t.preventDefault(),t.clipboardData.setData("text/plain",e)};document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t)}}function scrollToTop(){"scrollBehavior"in document.documentElement.style?window.scrollTo({top:0,behavior:"smooth"}):window.scrollTo(0,0)}function isStorage(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}function iOS(){return["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function isTouch(){return"ontouchstart"in window||navigator.maxTouchPoints>0&&navigator.maxTouchPoints<200}function isMobile(){return window.innerWidth<1130}window.addEventListener("beforeunload",(function(){$("#loadcontainer").css("display","block")}));var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.pathname};function isJson(e){try{JSON.parse(e)}catch(e){return!1}return!0}

}